# AWT IoT NAD Controller
Application that keeps a AWS IoT Shadow device synchronized with a NAD Amplifier. Allowing controlling the NAD amplifier from the internet.

Uses [nad-controller](https://github.com/dmalmkvist/nad-controller) to read and set settings on the amplifier via a RS-232 connection.

Connects to [AWS IoT Core](https://aws.amazon.com/iot-core/) to figure out what the desired state is from the shadow device. If the shadow device settings are different from the amplifier settings, then the amplifier settings are changed.

## Example use
To connection to a AWS IoT shadow the following is needed:
- A AWS IoT “Thing” must be created
- A AWS IoT Custom endpoint found under settings
- The following 3 certificate files (can be generated by AWS IoT)
  - private-key
  - client-certificate
  - ca-certificate
- AWS IoT policy created that gives the certificate's owner the right to Connect, Publish, Subscribe and Receive.

```javascript
nad-controller --private-key=private.pem.key
  --client-certificate=certificate.pem.crt
  --ca-certificate=root-CA.crt
  --client-id=<device-id>
  --thing-name=<thing-name>
  --host=<custom-endpoint>
```
